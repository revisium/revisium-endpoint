# ====================
# Base Configuration
# ====================
sonar.projectKey=revisium_revisium-endpoint
sonar.organization=revisium

# ====================
# Coverage Settings
# ====================
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# ====================
# Standard Exclusions
# ====================
sonar.exclusions=**/__tests__**,**/__mocks__**,**/*.spec.ts,prisma/**/*
sonar.coverage.exclusions=**/*.module.ts,**/__tests__**,**/__mocks__**,**/*.spec.ts,prisma/**/*

# ====================
# Issue Ignore Rules
# ====================
sonar.issue.ignore.multicriteria=tech1,tech2,tech3,tech4,tech5,tech6,tech7

# ====================
# Technical Debt Exclusions
# ====================
# TODO: S2077 is ignored for pg-notify.strategy.ts because it uses parameterized queries with Prisma ORM which prevents SQL injection
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S2077
sonar.issue.ignore.multicriteria.e1.resourceKey=**src/endpoint-microservice/synchronization/strategies/pg-notify.strategy.ts

# TODO: Update GitHub Actions workflow (S7631: GitHub Actions issue)
sonar.issue.ignore.multicriteria.tech2.ruleKey=githubactions:S7631
sonar.issue.ignore.multicriteria.tech2.resourceKey=**.github/workflows/deploy.yml

# TODO: Docker image optimization (S6470: Avoid using COPY before package installation for better caching)
sonar.issue.ignore.multicriteria.tech3.ruleKey=docker:S6470
sonar.issue.ignore.multicriteria.tech3.resourceKey=**/Dockerfile

# TODO: Docker image optimization (S6471: Use specific COPY instructions instead of copying entire context)
sonar.issue.ignore.multicriteria.tech4.ruleKey=docker:S6471
sonar.issue.ignore.multicriteria.tech4.resourceKey=**/Dockerfile

# TODO: Docker debugging tools should be removed from production images (S4507: Debug tools increase attack surface)
sonar.issue.ignore.multicriteria.tech5.ruleKey=docker:S4507
sonar.issue.ignore.multicriteria.tech5.resourceKey=**/Dockerfile

# TODO: Refactor graphql-schema-converter to reduce cyclomatic complexity (S7197: Circular dependencies between modules)
sonar.issue.ignore.multicriteria.tech6.ruleKey=tsarchitecture:S7197
sonar.issue.ignore.multicriteria.tech6.resourceKey=**/src/endpoint-microservice/graphql/graphql-schema-converter/**

# TODO: Reduce cognitive complexity in graphql-schema-converter (S3776: Functions should not be too complex)
sonar.issue.ignore.multicriteria.tech7.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.tech7.resourceKey=**/src/endpoint-microservice/graphql/graphql-schema-converter/**

sonar.cpd.exclusions=\
  *src/endpoint-microservice/graphql/graphql-schema-converter/services/queries.service.ts,\
  *src/endpoint-microservice/graphql/graphql-schema-converter/services/common-schema.service.ts

# ====================
# Duplicate Code Exclusions
# ====================
sonar.coverage.exclusions=**/*